@model OCTWEB_NET45.Models.MasterStructureItemListModel
@{
    ViewBag.Title = "Item Tree Detail";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link href="~/static/jstree/dist/themes/default/style.min.css" rel="stylesheet" />
<script src="~/static/jstree/dist/jstree.min.js"></script>
<script src="~/static/jstreetable-4.0.0/jstreetable.js"></script>
<style type="text/css">

			.jstree-table-wrapper {
				border: 1px solid #ccc;
			}
</style>

<div>
    <!--Html.Raw(Json.Encode(Model.ItemStructureJsTreeModelList))-->
</div>
<div class="container-fluid">
    <div class="form-row">
        <div class="col">
            <div class="btn-group btn-sm shadow-sm border-0 rounded-lg mt-0 mb-3">
                <a href="@Url.Action(actionName: "HBarChart"
                            , controllerName: "FccAssy"
                            )" class="btn btn-sm btn-outline-secondary ">
                    <i class="fas fa-fan"></i> Fcc Assy Graph
                </a>
                <a href="@Url.Action(actionName: "StockMovementChart"
                            , controllerName: "FccAssy"
                            )" class="btn btn-sm btn-outline-secondary ">
                    <i class="fas fa-bacon"></i> Stock Movement Chart
                </a>
                <a href="@Url.Action(actionName: "ItemList"
                            , controllerName: "StockItems"
                            )" class="btn btn-sm btn-secondary active">
                    <i class="fas fa-list"></i> Stock Item Quantity
                </a>
            </div>
        </div>
    </div>
    <div class="form-row">
        <div class="col">
            <div id="jstree1">
                <div id="jstree" style="width:100%;height:100%"></div>
            </div>
        </div>
    </div>
</div>


<script type="text/javascript">

    document.getElementById("sidemenubar").style.width = "0";
    document.getElementById("main").style.marginLeft = "0";

    $(document).ready(function () {
        // tree data
        var data =  @Html.Raw(Json.Encode(Model.ItemStructureJsTreeModelList));
        /*var data = [{
            id: "Products",
            text: "Products",
            data: { price: 0.1, quantity: 20 },
            children: [{
                id: "Fruit",
                text: "Fruit",
                data: { price: 0.5, quantity: 8 },
                children: [
                    { id: "Apple", text: "Apple", data: { price: 0.1, quantity: 20 } },
                    { id: "Banana", text: "Banana", data: { price: 0.2, quantity: 31 } },
                    { id: "Grapes", text: "Grapes", data: { price: 1.99, quantity: 34 } },
                    { id: "Mango", text: "Mango", data: { price: 0.5, quantity: 8 } },
                    { id: "Melon", text: "Melon", data: { price: 0.8, quantity: 4 } },
                    { id: "Pear", text: "Pear", data: { price: 0.1, quantity: 30 } },
                    { id: "Strawberry", text: "Strawberry", data: { price: 0.15, quantity: 32 } }
                ],
                'state': { 'opened': true }
            }, {
                id: "Vegetables",
                text: "Vegetables",
                data: { price: 0.5, quantity: 8 },
                children: [
                    { id: "Aubergine", text: "Aubergine", data: { price: 0.5, quantity: 8 } },
                    { id: "Broccoli", text: "Broccoli", data: { price: 0.4, quantity: 22 } },
                    { id: "Carrot", text: "Carrot", data: { price: 0.1, quantity: 32 } },
                    { id: "Cauliflower", text: "Cauliflower", data: { price: 0.45, quantity: 18 } },
                    { id: "Potato", text: "Potato", data: { price: 0.2, quantity: 38 } }
                ]
            }],
            'state': { 'opened': true }
        }];
        */
        // load jstree
        $("div#jstree").jstree({
            plugins: ["table", "dnd", "contextmenu", "sort","types"],
            core: {
                data: data,
                check_callback: true
            },
            "types": {
                "default": {
                    "icon": "fa fa-tint  text-secondary"
                },
                "file": {
                    "icon": "fa fa-file  text-primary"
                },
                "root": {
                    "icon": "fa fa-trophy  text-warning"
                },


                "CORE BLANK/DISC": {
                    "icon": "fa fa-industry  text-info"
                },
                "Fc Shaving": {
                    "icon": "fa fa-industry  text-info"
                },
                "Fc Bonderizing": {
                    "icon": "fa fa-industry  text-info"
                },
                "Fc Forging": {
                    "icon": "fa fa-industry  text-info"
                },


                "Fc L": {
                    "icon": "fa fa-industry  text-primary"
                },
                "Fc Assy AC (No Zinc Plating)": {
                    "icon": "fa fa-industry  text-primary"
                },
                "FLANGE": {
                    "icon": "fa fa-industry  text-primary"
                },


                "Fc Zinc Plating": {
                    "icon": "fa fa-industry  text-success"
                },
                "Flange Zinc Plating": {
                    "icon": "fa fa-industry  text-success"
                },


                "Fc Assy WP Zinc Plating": {
                    "icon": "fa fa-industry  text-warning"
                },
                "Fc Assy WP": {
                    "icon": "fa fa-industry  text-warning"
                },
                "FIELD CORE ASSY": {
                    "icon": "fa fa-industry  text-warning"
                },
                "Coil Winding": {
                    "icon": "fa fa-industry  text-warning"
                },



                "Fcc Semi Assy": {
                    "icon": "fa fa-industry  text-danger"
                },
                "Fcc Casting": {
                    "icon": "fa fa-industry  text-danger"
                },

               
                "Fcc Assy": {
                    "icon": "fa fa-trophy  text-warning"
                },

            },
            // configure tree table
            table: {
                columns: [
                    {  header: "Model" },
                    {  value: "ItemShortName", header: "ItemShortName" },
                    { value: "qty_max_str", header: "Max" },
                    { value: "qty_min_str", header: "Min" },
                    { value: "qty_avg_str", header: "Avg" },
                    { value: "StockQty_str", header: "StockQty"}, // format: function (v) { if (v) { return '$' + v.toFixed(2) } }
                    { value: "LocationRemark", header: "Remark" },
                    { value: "ItemNo", header: "ItemNo" },
                    { value: "VendorCode", header: "VendorCode" },
                    { value: "BusinessPartnerShortName", header: "VendorName" },
                    { value: "UnitCode", header: "UnitCode" },
                   
                    
                ],
                resizable: true,
                draggable: true,
                contextmenu: true,
               // width: 1500,
              //  height: 1200
            }
        });
    });
</script>




