
CREATE TABLE [dbo].[DynamicMenu] (
    [Id]          INT NOT NULL PRIMARY KEY IDENTITY (1, 1),
    [RIH_Id]      INT FOREIGN KEY REFERENCES [dbo].[Rights](RIH_Id),
    [RIH_Name]	  VARCHAR (60) NULL,
    [RIG_Id]      INT FOREIGN KEY REFERENCES [dbo].[RightGroup](RIG_Id),
    [RIG_Name]	  VARCHAR (60) NULL,
    [SYS_Id]      INT FOREIGN KEY REFERENCES [dbo].[Systems](SYS_Id),
    [SYS_Name]	  VARCHAR (60) NULL,
    [Controller]  VARCHAR (100) NULL,
    [Action]      VARCHAR (100) NULL,
    
);


INSERT INTO [dbo].[DynamicMenu] (RIH_Id,RIG_Id,SYS_Id,RIH_Name,RIG_Name,SYS_Name)
SELECT r.RIH_Id,rg.RIG_Id,s.SYS_Id,r.RIH_Name,rg.RIG_Name,s.SYS_Name
FROM dbo.Rights as r
join dbo.RightGroup as rg on r.RIG_Id = rg.RIG_Id
join dbo.systems as s on s.SYS_Id = rg.SYS_Id
order by r.RIH_Id asc;
