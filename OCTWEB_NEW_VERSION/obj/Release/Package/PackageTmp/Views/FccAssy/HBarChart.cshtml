@model OCTWEB_NET45.Models.StockItemModel
@{
    ViewBag.Title = "Fcc Assy Graph";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<script src="~/static/plotly-2.18.2/plotly.min.js"></script>

<div class="container-fluid">
    <!--<div class="form-row">
         Html.Raw(Json.Encode(Model.HBarChartGroupData));
     </div>-->
    <div class="form-row">
        <div class="col">
            <div class="btn-group btn-sm shadow-sm border-0 rounded-lg mt-0 mb-3">
                <a href="@Url.Action(actionName: "HBarChart"
                            , controllerName: "FccAssy"
                            )" class="btn btn-sm btn-outline-secondary active">
                    <i class="fas fa-fan"></i> Fcc Assy Graph
                </a>
                <a href="@Url.Action(actionName: "StockMovementChart"
                            , controllerName: "FccAssy"
                            )" class="btn btn-sm btn-outline-secondary ">
                    <i class="fas fa-bacon"></i> Stock Movement Chart
                </a>
                <a href="@Url.Action(actionName: "ItemList"
                            , controllerName: "StockItems"
                            )" class="btn btn-sm btn-outline-secondary ">
                    <i class="fas fa-list"></i> Stock Item Quantity
                </a>
            </div>
        </div>
    </div>
    <div class="form-row">
        @Html.HiddenFor(m=>m.date_str)
        <div id="hbar_chart" style="width:100%; height:200%"></div>
    </div>


</div>

<script language="JavaScript">

    document.getElementById("sidemenubar").style.width = "0";
    document.getElementById("main").style.marginLeft = "0";

    var date_str = document.getElementById('date_str').value;

    $(document).ready(function () {
        var data = @Html.Raw(Json.Encode(Model.HBarChartGroupData));

        var hbar_chart = document.getElementById('hbar_chart');
        /*
        var layout = {
            barmode: 'group',
         //   bargap: 0.5,
         //   bargroupgap: 0.2,
            xaxis: {
                title: "Model Instance",
             //   automargin: true,
                tickangle: -90,
                textangle: -90
            },
        };*/
        var layout = {
            barmode: 'stack',
            //   bargap: 0.5,
            //   bargroupgap: 0.2,
            autosize: false,
            width: 1500,
            height:2500,
            margin: {

                l: 250,
                r: 10,
                t: 70,
                b: 50
            },
            title: {
                text:'Fcc Assy '+ date_str,
                font: {
                   // family: 'Courier New, monospace',
                    size: 22
                },

                //xref: 'x',
                x: 0.05,
            },
            xaxis: {
                title: {
                    text: 'Quantity',
                    font: {
                      //  family: 'Courier New, monospace',
                        size: 16,
                        color: '#7f7f7f'
                    }
                },
              //  tickangle: -90,
                //  textangle: -90,
                showticklabels: true,
                tickangle: 'auto',
                tickfont: {
                   // family: 'Old Standard TT, serif',
                    size: 12,
                    color: 'black'
                },
               // exponentformat: 'e',
              //  showexponent: 'all',
                showgrid: true,
                side: 'top',
                //  dtick: 25000,
                showline: true,
            },
            yaxis: {
                title: {
                    text: 'Model',
                    font: {
                       // family: 'Courier New, monospace',
                        size: 12,
                        color: '#7f7f7f'
                    }
                },

            }
        };

        var config = {responsive: true}

        Plotly.newPlot(hbar_chart, data, layout, config);

    })
</script>